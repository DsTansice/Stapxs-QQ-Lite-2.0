webpackJsonp([1],{"1rUu":function(t,e,s){"use strict";function i(t,e){for(var s=t.toString();s.length<e;)s="0"+s;return s}function a(t){return i(t,2)}function n(e,s){"string"!=typeof e&&(s=e,e=t.exports.ISO8601_FORMAT),s||(s=t.exports.now());var n,o,r,c,l=a(s.getDate()),d=a(s.getMonth()+1),h=a(s.getFullYear()),g=a(h.substring(2,4)),u=e.indexOf("yyyy")>-1?h:g,_=a(s.getHours()),m=a(s.getMinutes()),p=a(s.getSeconds()),v=i(s.getMilliseconds(),3),f=(n=s.getTimezoneOffset(),o=Math.abs(n),r=String(Math.floor(o/60)),c=String(o%60),r=("0"+r).slice(-2),c=("0"+c).slice(-2),0===n?"Z":(n<0?"+":"-")+r+":"+c);return e.replace(/dd/g,l).replace(/MM/g,d).replace(/y{1,4}/g,u).replace(/hh/g,_).replace(/mm/g,m).replace(/ss/g,p).replace(/SSS/g,v).replace(/O/g,f)}function o(t,e,s,i){t["set"+(i?"":"UTC")+e](s)}t.exports=n,t.exports.asString=n,t.exports.parse=function(e,s,i){if(!e)throw new Error("pattern must be supplied");return function(e,s,i){var a=e.indexOf("O")<0,n=!1,r=[{pattern:/y{1,4}/,regexp:"\\d{1,4}",fn:function(t,e){o(t,"FullYear",e,a)}},{pattern:/MM/,regexp:"\\d{1,2}",fn:function(t,e){o(t,"Month",e-1,a),t.getMonth()!==e-1&&(n=!0)}},{pattern:/dd/,regexp:"\\d{1,2}",fn:function(t,e){n&&o(t,"Month",t.getMonth()-1,a),o(t,"Date",e,a)}},{pattern:/hh/,regexp:"\\d{1,2}",fn:function(t,e){o(t,"Hours",e,a)}},{pattern:/mm/,regexp:"\\d\\d",fn:function(t,e){o(t,"Minutes",e,a)}},{pattern:/ss/,regexp:"\\d\\d",fn:function(t,e){o(t,"Seconds",e,a)}},{pattern:/SSS/,regexp:"\\d\\d\\d",fn:function(t,e){o(t,"Milliseconds",e,a)}},{pattern:/O/,regexp:"[+-]\\d{1,2}:?\\d{2}?|Z",fn:function(t,e){e="Z"===e?0:e.replace(":","");var s=Math.abs(e),i=(e>0?-1:1)*(s%100+60*Math.floor(s/100));t.setUTCMinutes(t.getUTCMinutes()+i)}}],c=r.reduce(function(t,e){return e.pattern.test(t.regexp)?(e.index=t.regexp.match(e.pattern).index,t.regexp=t.regexp.replace(e.pattern,"("+e.regexp+")")):e.index=-1,t},{regexp:e,index:[]}),l=r.filter(function(t){return t.index>-1});l.sort(function(t,e){return t.index-e.index});var d=new RegExp(c.regexp).exec(s);if(d){var h=i||t.exports.now();return l.forEach(function(t,e){t.fn(h,d[e+1])}),h}throw new Error("String '"+s+"' could not be parsed as '"+e+"'")}(e,s,i)},t.exports.now=function(){return new Date},t.exports.ISO8601_FORMAT="yyyy-MM-ddThh:mm:ss.SSS",t.exports.ISO8601_WITH_TZ_OFFSET_FORMAT="yyyy-MM-ddThh:mm:ss.SSSO",t.exports.DATETIME_FORMAT="dd MM yyyy hh:mm:ss.SSS",t.exports.ABSOLUTETIME_FORMAT="hh:mm:ss.SSS"},aYPZ:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("fZjL"),a=s.n(i),n=s("7+uW"),o=s("UlrC");function r(t){return t.match(/\[SQ:\d+\]/gm)}var c={parseMsg:function(t,e){var s=[];null!=n.default.cacheImg&&n.default.cacheImg.forEach(function(t){s.push({type:"image",file:"base64://"+t.substring(t.indexOf("base64,")+7,t.length)})});var i=r(t);return null!==i&&i.forEach(function(i){var a=i.replace("[","").replace("]","").split(":")[1],n=RegExp("^[^\\[]*\\[SQ:"+a+"\\]","g"),o=t.match(n);if(null!==o){var r=o[0].replace(i,"");""!==r&&s.push({type:"text",text:r}),null!==e[a]&&s.push(e[a]),t=t.replace(o[0],"")}}),""!==t&&s.push({type:"text",text:t}),e.forEach(function(t){switch(t.type){case"reply":s.unshift(t)}}),s},getSQList:r},l=s("NG4M"),d=s.n(l),h=s("mlgj"),g={name:"BulletinBody",props:["data"],data:function(){return{Xss:d.a,runtimeData:h.b,showAll:!1}}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"base",on:{click:function(e){t.showAll=!t.showAll}}},[s("header",[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"}},[s("path",{attrs:{d:"M336 0h-288C21.49 0 0 21.49 0 48v431.9c0 24.7 26.79 40.08 48.12 27.64L192 423.6l143.9 83.93C357.2 519.1 384 504.6 384 479.9V48C384 21.49 362.5 0 336 0zM336 452L192 368l-144 84V54C48 50.63 50.63 48 53.1 48h276C333.4 48 336 50.63 336 54V452z"}})]),t._v(" "),s("span",[t._v(t._s(t.data.msg.title))])]),t._v(" "),s("div",{class:"body"+(t.showAll?" all":"")},[s("span",{domProps:{innerHTML:t._s(t.Xss(t.data.msg.text_face).replaceAll("\r","\n").replaceAll("\n\n","\n"))}})]),t._v(" "),s("div",{staticClass:"info"},[s("img",{attrs:{src:"https://q1.qlogo.cn/g?b=qq&s=0&nk="+t.data.u}}),t._v(" "),s("a",[t._v(t._s(t.runtimeData.onChat.info.group_members.filter(function(e){return Number(e.user_id)===Number(t.data.u)})[0].nickname))]),t._v(" "),s("div"),t._v(" "),s("span",[t._v(t._s(t.$t("chat_chat_info_bulletin_read",{isRead:t.data.is_read?t.$t("chat_chat_info_bulletin_readed"):t.$t("chat_chat_info_bulletin_noread"),readNum:t.data.read_num})))])])])},staticRenderFns:[]},_=s("VU/8")(g,u,!1,null,null,null).exports,m=s("LOkV"),p=s("sPi6"),v={name:"FileBody",props:["item","chat","parent"],data:function(){return{trueLang:Object(m.d)(),getSize:m.c,toHtml:m.e}},methods:{getFile:function(t){var e="https://pan.qun.qq.com/cgi-bin/group_share_get_downurl?uin="+n.default.loginInfo.uin+"&groupid="+this.chat.id+"&pa=/"+t.bus_id+t.id+"&r="+Object(m.b)(!0,!1,!1,16)+"&charset=utf-8&g_tk="+h.b.loginInfo.bkn;void 0===this.parent?p.a.send("http_proxy",{url:e},"downloadGroupFile_"+t.id):p.a.send("http_proxy",{url:e},"downloadGroupFile_"+this.parent+"_"+t.id)},loadFileDir:function(t,e){if(2===e&&void 0===this.item.sub_list){var s="https://pan.qun.qq.com/cgi-bin/group_file/get_file_list?gc="+this.chat.id+"&bkn="+h.b.loginInfo.bkn+"&start_index=0&cnt=30&filter_code=0&folder_id="+t+"&show_onlinedoc_folder=0";p.a.send("http_proxy",{url:s},"getGroupDirFiles_"+t)}}}},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:(2===t.item.type?" folder":"")+(void 0!==t.item.sub_list&&t.item.sub_list.length>0?" open":""),on:{click:function(e){return t.loadFileDir(t.item.id,t.item.type)}}},[2===t.item.type?s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[s("path",{attrs:{d:"M447.1 96h-172.1L226.7 50.75C214.7 38.74 198.5 32 181.5 32H63.1c-35.35 0-64 28.66-64 64v320c0 35.34 28.65 64 64 64h384c35.35 0 64-28.66 64-64V160C511.1 124.7 483.3 96 447.1 96zM463.1 416c0 8.824-7.178 16-16 16h-384c-8.822 0-16-7.176-16-16V96c0-8.824 7.178-16 16-16h117.5c4.273 0 8.293 1.664 11.31 4.688L255.1 144h192c8.822 0 16 7.176 16 16V416z"}})]):t._e(),t._v(" "),1===t.item.type?s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[s("path",{attrs:{d:"M384 32H64.01C28.66 32 .0085 60.65 .0065 96L0 415.1C-.002 451.3 28.65 480 64 480h232.1c25.46 0 49.88-10.12 67.89-28.12l55.88-55.89C437.9 377.1 448 353.6 448 328.1V96C448 60.8 419.2 32 384 32zM52.69 427.3C50.94 425.6 48 421.8 48 416l.0195-319.1C48.02 87.18 55.2 80 64.02 80H384c8.674 0 16 7.328 16 16v192h-88C281.1 288 256 313.1 256 344v88H64C58.23 432 54.44 429.1 52.69 427.3zM330.1 417.9C322.9 425.1 313.8 429.6 304 431.2V344c0-4.406 3.594-8 8-8h87.23c-1.617 9.812-6.115 18.88-13.29 26.05L330.1 417.9z"}})]):t._e(),t._v(" "),s("div",{staticClass:"main"},[s("span",[t._v(t._s(t.toHtml(t.item.name)))]),t._v(" "),s("div",[s("span",{attrs:{"data-id":t.item.owner_uin}},[t._v(t._s(t.toHtml(t.item.owner_name)))]),t._v(" "),s("span",[t._v(t._s(0===t.item.create_time?"-":Intl.DateTimeFormat(t.trueLang,{year:"numeric",month:"short",day:"numeric"}).format(new Date(1e3*t.item.create_time))))]),t._v(" "),0!==t.item.dead_time&&void 0!==t.item.dead_time?s("span",[t._v(t._s(parseInt((t.item.dead_time-t.item.create_time)/86400)-1+t.$t("chat_chat_info_dead_day")))]):t._e(),t._v(" "),2===t.item.type?s("span",[t._v(t._s(t.$t("chat_chat_info_file_num",{num:t.item.size})))]):t._e(),t._v(" "),1===t.item.type?s("span",[t._v(t._s(t.getSize(t.item.size)))]):t._e()])]),t._v(" "),1===t.item.type&&void 0===t.item.downloadingPercentage?s("div",{staticClass:"download",on:{click:function(e){return t.getFile(t.item)}}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[s("path",{attrs:{d:"M344 240h-56L287.1 152c0-13.25-10.75-24-24-24h-16C234.7 128 223.1 138.8 223.1 152L224 240h-56c-9.531 0-18.16 5.656-22 14.38C142.2 263.1 143.9 273.3 150.4 280.3l88.75 96C243.7 381.2 250.1 384 256.8 384c7.781-.3125 13.25-2.875 17.75-7.844l87.25-96c6.406-7.031 8.031-17.19 4.188-25.88S353.5 240 344 240zM256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 464c-114.7 0-208-93.31-208-208S141.3 48 256 48s208 93.31 208 208S370.7 464 256 464z"}})])]):t._e(),t._v(" "),void 0!==t.item.downloadingPercentage?s("svg",{staticClass:"download-bar",attrs:{xmlns:"http://www.w3.org/2000/svg"}},[s("circle",{attrs:{cx:"50%",cy:"50%",r:"40%","stroke-width":"15%",fill:"none","stroke-linecap":"round"}}),t._v(" "),s("circle",{attrs:{cx:"50%",cy:"50%",r:"40%","stroke-width":"15%",fill:"none","stroke-dasharray":void 0===t.item.downloadingPercentage?"0,10000":Math.floor(2*Math.PI*25)*t.item.downloadingPercentage/100+",10000"}})]):t._e(),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!1!==t.item.sub_item_show,expression:"item.sub_item_show !== false"}],staticClass:"sub_file group-files"},t._l(t.item.sub_list,function(e){return s("div",{key:"sub_file-"+e.id},[s("FileBody",{attrs:{chat:t.chat,item:e,parent:t.item.id}})],1)}),0)])},staticRenderFns:[]},w={name:"InfoBody",props:["tags","chat"],components:{FileBody:s("VU/8")(v,f,!1,null,null,null).exports,BulletinBody:_},data:function(){return{Vue:n.default,trueLang:Object(m.d)()}},methods:{openChatInfoPan:function(){this.$emit("close",null)},fileLoad:function(t){this.$emit("loadFile",t)}}},y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.tags.openChatInfo?s("div",{staticClass:"chat-info-pan"},[s("div",{staticClass:"ss-card chat-info"},[s("header",["group"===t.chat.type?s("span",[t._v(t._s(t.$t("chat_chat_info_group")))]):t._e(),t._v(" "),"user"===t.chat.type?s("span",[t._v(t._s(t.$t("chat_chat_info_user")))]):t._e(),t._v(" "),s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},on:{click:t.openChatInfoPan}},[s("path",{attrs:{d:"M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"}})])]),t._v(" "),s("div",{class:"chat-info-base "+t.chat.type},[s("div",[s("img",{attrs:{src:t.chat.avatar}}),t._v(" "),s("div",[s("a",[t._v(t._s(t.chat.name))]),t._v(" "),s("span",[t._v(t._s(t.chat.id))])]),t._v(" "),"group"===t.chat.type?s("div",[t.chat.info.group.gOwner===t.Vue.loginInfo.uin?s("svg",{attrs:{title:t.$t("chat_chat_info_is_owner"),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"}},[s("path",{attrs:{d:"M309 106c11.4-7 19-19.7 19-34c0-22.1-17.9-40-40-40s-40 17.9-40 40c0 14.4 7.6 27 19 34L209.7 220.6c-9.1 18.2-32.7 23.4-48.6 10.7L72 160c5-6.7 8-15 8-24c0-22.1-17.9-40-40-40S0 113.9 0 136s17.9 40 40 40c.2 0 .5 0 .7 0L86.4 427.4c5.5 30.4 32 52.6 63 52.6H426.6c30.9 0 57.4-22.1 63-52.6L535.3 176c.2 0 .5 0 .7 0c22.1 0 40-17.9 40-40s-17.9-40-40-40s-40 17.9-40 40c0 9 3 17.3 8 24l-89.1 71.3c-15.9 12.7-39.5 7.5-48.6-10.7L309 106z"}})]):t._e(),t._v(" "),void 0!=t.chat.info.group.gAdmins&&t.chat.info.group.gAdmins.indexOf(t.Vue.loginInfo.uin)>=0?s("svg",{attrs:{title:t.$t("chat_chat_info_is_admin"),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"}},[s("path",{attrs:{d:"M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"}})]):t._e()]):t._e()]),t._v(" "),"group"===t.chat.type?s("div",[s("header",[s("span",[t._v(t._s(t.$t("chat_chat_info_introduction")))])]),t._v(" "),s("span",{domProps:{innerHTML:t._s(void 0===t.chat.info.group.gIntro||""===t.chat.info.group.gIntro?t.$t("chat_chat_info_nointroduction"):t.chat.info.group.gIntro)}}),t._v(" "),s("div",{staticClass:"tags"},t._l(t.chat.info.group.tags,function(e){return s("div",{key:e.md},[t._v("\n            "+t._s(e.tag)+"\n          ")])}),0),t._v(" "),void 0!==t.chat.info.group.gAdmins?s("header",[s("span",[t._v(t._s(t.$t("chat_member_type_admin")))])]):t._e(),t._v(" "),void 0!==t.chat.info.group.gAdmins?s("div",{staticClass:"admin"},t._l(t.chat.info.group.gAdmins,function(e,i){return s("img",{key:"chatinfoadmin-"+e,attrs:{src:"https://q1.qlogo.cn/g?b=qq&s=0&nk="+e,title:t.chat.info.group.ns[i]}})}),0):t._e()]):"user"===t.chat.type?s("div",[s("header",[s("span",[t._v(t._s(t.$t("chat_chat_info_lnick")))])]),t._v(" "),s("span",{domProps:{innerHTML:t._s(void 0===t.chat.info.user.lnick||""===t.chat.info.user.lnick?t.$t("chat_chat_info_nolnick"):t.chat.info.user.lnick)}}),t._v(" "),s("header",[s("span",[t._v(t._s(t.$t("chat_chat_info_outher")))])]),t._v(" "),s("div",{staticClass:"outher"},[s("span",[t._v(t._s(t.$t("chat_chat_info_birthday"))+":\n            "),s("span",[t._v("\n              "+t._s(void 0===t.chat.info.user?"":Intl.DateTimeFormat(t.trueLang,{year:"numeric",month:"short",day:"numeric"}).format(new Date(t.chat.info.user.birthday.year+"-"+t.chat.info.user.birthday.month+"-"+t.chat.info.user.birthday.day))+" ("+this.$t("chat_chat_info_chinese_zodiac").split("|")[t.chat.info.user.shengxiao-1]+")")+"\n            ")])]),t._v(" "),s("span",[t._v(t._s(t.$t("chat_chat_info_address"))+":\n            "),s("span",[t._v("\n              "+t._s(t.chat.info.user.country+"-"+t.chat.info.user.province+"-"+t.chat.info.user.city)+"\n            ")])])])]):t._e()]),t._v(" "),"group"===t.chat.type?s("div",{staticClass:"layui-tab layui-tab-brief",staticStyle:{overflow:"hidden",display:"flex","flex-direction":"column",height:"100%",margin:"0"}},[s("ul",{staticClass:"layui-tab-title chat-info-tab"},[s("li",{staticClass:"layui-this"},[t._v(t._s(t.$t("chat_chat_info_member")+"("+(void 0==t.chat.info.group_members.length?0:t.chat.info.group_members.length)+")"))]),t._v(" "),s("Li",[t._v(t._s(t.$t("chat_chat_info_notice")))]),t._v(" "),s("li",[t._v(t._s(t.$t("chat_chat_info_file")+"("+(void 0===t.chat.info.group_files.total_cnt?0:t.chat.info.group_files.total_cnt)+")"))]),t._v(" "),s("li",[t._v(t._s(t.$t("chat_chat_info_config")))])],1),t._v(" "),s("div",{staticClass:"chat-info-tab-body layui-tab-content"},[s("div",{staticClass:"layui-tab-item layui-show chat-info-tab-member"},t._l(t.chat.info.group_members,function(e){return s("div",{key:"chatinfomlist-"+e.user_id},[s("img",{attrs:{loading:"lazy",src:"https://q1.qlogo.cn/g?b=qq&s=0&nk="+e.user_id}}),t._v(" "),s("div",[s("a",[t._v(t._s(e.nickname))]),t._v(" "),"owner"===e.role?s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"}},[s("path",{attrs:{d:"M309 106c11.4-7 19-19.7 19-34c0-22.1-17.9-40-40-40s-40 17.9-40 40c0 14.4 7.6 27 19 34L209.7 220.6c-9.1 18.2-32.7 23.4-48.6 10.7L72 160c5-6.7 8-15 8-24c0-22.1-17.9-40-40-40S0 113.9 0 136s17.9 40 40 40c.2 0 .5 0 .7 0L86.4 427.4c5.5 30.4 32 52.6 63 52.6H426.6c30.9 0 57.4-22.1 63-52.6L535.3 176c.2 0 .5 0 .7 0c22.1 0 40-17.9 40-40s-17.9-40-40-40s-40 17.9-40 40c0 9 3 17.3 8 24l-89.1 71.3c-15.9 12.7-39.5 7.5-48.6-10.7L309 106z"}})]):t._e(),t._v(" "),"admin"===e.role?s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"}},[s("path",{attrs:{d:"M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"}})]):t._e()]),t._v(" "),s("span",[t._v(t._s(e.user_id))])])}),0),t._v(" "),s("div",{staticClass:"layui-tab-item bulletins"},t._l(void 0===t.chat.info.group_notices?[]:t.chat.info.group_notices.feeds,function(t,e){return s("BulletinBody",{key:"bulletins-"+e,attrs:{data:t}})}),1),t._v(" "),s("div",{staticClass:"layui-tab-item group-files",on:{scroll:t.fileLoad}},[t._l(t.chat.info.group_files.file_list,function(e){return s("div",{key:"file-"+e.id},[s("FileBody",{attrs:{chat:t.chat,item:e}})],1)}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:void 0!==t.chat.info.group_files&&void 0!==t.chat.info.group_files.next_index&&0!==t.chat.info.group_files.next_index,expression:"chat.info.group_files !== undefined &&\n          chat.info.group_files.next_index !== undefined &&\n          chat.info.group_files.next_index !== 0"}],staticClass:"group-files-loader"},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[s("path",{attrs:{d:"M120 256c0 30.9-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56s56 25.1 56 56zm160 0c0 30.9-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56s56 25.1 56 56zm104 56c-30.9 0-56-25.1-56-56s25.1-56 56-56s56 25.1 56 56s-25.1 56-56 56z"}})])])],2),t._v(" "),s("div",{staticClass:"layui-tab-item"},[t._v("3")])])]):t._e()]),t._v(" "),s("div",{staticClass:"card-info-pan-bg"})]):t._e()},staticRenderFns:[]},C=s("VU/8")(w,y,!1,null,null,null).exports,b=s("oTZF"),M={name:"FacePan",props:["display"],data:function(){return{Option:b.a,runtimeData:h.b,baseFaceMax:323,baseFacePass:[17,40,44,45,47,48,50,51,52,58,65,68,70,71,73,80,81,82,83,84,87,88,92,93,94,95,248,249,250,251,252,253,254,255,256,257,258,259,275,276]}},methods:{addSpecialMsg:function(t,e){this.$emit("addSpecialMsg",{addText:e,msgObj:t})},addBaseFace:function(t){this.addSpecialMsg({type:"face",id:t},!0)},addImgFace:function(t){this.addSpecialMsg({type:"image",file:t,cache:!0,asface:!0},!0)}},mounted:function(){void 0===h.b.stickers&&p.a.send("get_roaming_stamp",null,"getRoamingStamp")}},x={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ss-card face-pan"},[i("div",{staticClass:"layui-tab layui-tab-brief"},[i("ul",{staticClass:"layui-tab-title chat-info-tab fase-pan-tab"},[i("li",{staticClass:"layui-this"},[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[i("path",{attrs:{d:"M130.7 313.9C126.5 300.4 137.8 288 151.1 288H364.5C378.7 288 389.9 300.4 385.8 313.9C368.1 368.4 318.2 408 258.2 408C198.2 408 147.5 368.4 130.7 313.9V313.9zM208.4 192C208.4 209.7 194 224 176.4 224C158.7 224 144.4 209.7 144.4 192C144.4 174.3 158.7 160 176.4 160C194 160 208.4 174.3 208.4 192zM281.9 214.6C273.9 207 273.5 194.4 281 186.3C295.6 170.8 316.3 164 335.6 164C354.1 164 375.7 170.8 390.2 186.3C397.8 194.4 397.4 207 389.3 214.6C381.2 222.1 368.6 221.7 361 213.7C355.6 207.8 346.3 204 335.6 204C324.1 204 315.7 207.8 310.2 213.7C302.7 221.7 290 222.1 281.9 214.6zM512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM256 48C141.1 48 48 141.1 48 256C48 370.9 141.1 464 256 464C370.9 464 464 370.9 464 256C464 141.1 370.9 48 256 48z"}})])]),t._v(" "),void 0!==t.runtimeData.stickers?i("li",[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[i("path",{attrs:{d:"M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"}})])]):t._e()]),t._v(" "),i("div",{staticClass:"layui-tab-content"},[i("div",{staticClass:"layui-tab-item layui-show"},[i("div",{staticClass:"base-face"},t._l(t.baseFaceMax,function(e){return-1==t.baseFacePass.indexOf(e)?i("div",{key:"base-face-"+e,on:{click:function(s){return t.addBaseFace(e)}}},[i("img",{attrs:{loading:"lazy",src:s("htcX")("./"+e+".gif")}})]):t._e()}),0)]),t._v(" "),i("div",{staticClass:"layui-tab-item"},[i("div",{staticClass:"face-stickers"},[t._l(t.runtimeData.stickers,function(e,s){return i("img",{key:"stickers-"+s,attrs:{loading:"lazy",src:e},on:{click:function(s){return t.addImgFace(e)}}})}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:void 0!==t.runtimeData.stickers&&t.runtimeData.stickers.length<=0,expression:"runtimeData.stickers !== undefined && runtimeData.stickers.length <= 0"}],staticClass:"ss-card"},[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[i("path",{attrs:{d:"M169.6 291.3C172.8 286.9 179.2 286.9 182.4 291.3C195.6 308.6 223.1 349 223.1 369C223.1 395 202.5 416 175.1 416C149.5 416 127.1 395 127.1 369C127.1 349 156.6 308.6 169.6 291.3H169.6zM368 346.8C377.9 355.6 378.7 370.8 369.9 380.7C361 390.6 345.9 391.4 335.1 382.6C314.7 363.5 286.7 352 256 352C242.7 352 232 341.3 232 328C232 314.7 242.7 304 256 304C299 304 338.3 320.2 368 346.8L368 346.8zM335.6 176C353.3 176 367.6 190.3 367.6 208C367.6 225.7 353.3 240 335.6 240C317.1 240 303.6 225.7 303.6 208C303.6 190.3 317.1 176 335.6 176zM175.6 240C157.1 240 143.6 225.7 143.6 208C143.6 190.3 157.1 176 175.6 176C193.3 176 207.6 190.3 207.6 208C207.6 225.7 193.3 240 175.6 240zM256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0zM175.9 448C200.5 458.3 227.6 464 256 464C370.9 464 464 370.9 464 256C464 141.1 370.9 48 256 48C141.1 48 48 141.1 48 256C48 308.7 67.59 356.8 99.88 393.4C110.4 425.4 140.9 447.9 175.9 448V448z"}})]),t._v(" "),i("span",[t._v(t._s(t.$t("chat_face_pan_none").split("|")[0]))])])],2)])])])])},staticRenderFns:[]},k=s("VU/8")(M,x,!1,null,null,null).exports,I={name:"NoticeBody",props:["data"],data:function(){return{}},methods:{},mounted:function(){if("recall"===this.data.sub_type)if("group"===h.b.onChat.type){var t=this.data.operator_id;if(void 0!==h.b.onChat.info.group_members){var e=h.b.onChat.info.group_members.filter(function(e){return Number(e.user_id)===Number(t)});1===e.length?n.default.set(this.data,"name",""===e[0].card?e[0].nickname:e[0].card):n.default.set(this.data,"name",t)}else n.default.set(this.data,"name",t)}else n.default.set(this.data,"name",h.b.onChat.name)}},S={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"note"},["recall"===t.data.sub_type?s("div",{staticClass:"note-recall note-base"},[s("a",[t._v(t._s(this.data.name))]),t._v(" "),s("span",[t._v(t._s(t.$t("chat_notice_recall")))]),t._v(" "),s("div")]):t._e()])},staticRenderFns:[]},L=s("VU/8")(I,S,!1,null,null,null).exports,B=s("1+AF"),z={name:"Chat",props:["chat","list","mergeList","mumberInfo","imgView"],components:{MsgBody:o.default,InfoBody:C,FacePan:k,NoticeBody:L},data:function(){return{Vue:n.default,runtimeData:h.b,trueLang:Object(m.d)(),tags:{nowGetHistroy:!1,showBottomButton:!0,showMoreDetail:!1,showMsgMenu:!1,openedMenuMsg:null,openChatInfo:!1,isReply:!1,menuDisplay:{}},details:[{open:!1},{open:!1}],msgMenus:[],NewMsgNum:0,listSize:0,msg:"",msgCache:"",sendCache:[],selectedMsg:null,replyMsgInfo:null}},methods:{chatScroll:function(t){var e=t.target;0===e.scrollTop&&this.list.length>0&&this.loadMoreHistory(),e.scrollTop+e.clientHeight===e.scrollHeight&&(this.NewMsgNum=0),e.scrollTop<e.scrollHeight-2*e.clientHeight?this.tags.showBottomButton=!0:this.tags.showBottomButton=!1},loadMoreHistory:function(){if(!this.tags.nowGetHistroy&&!1!==h.b.tags.canLoadHistory){var t=this.list[0].message_id;this.tags.nowGetHistroy=!0,p.a.send("get_chat_history",{message_id:t},"getChatHistory")}},scrollTo:function(t,e){var s=document.getElementById("msgPan");s.style.scrollBehavior=!1===e?"unset":"smooth",s.scrollTop=t,s.style.scrollBehavior="smooth"},scrollBottom:function(t){var e=document.getElementById("msgPan");this.scrollTo(e.scrollHeight,t)},scrollToMsg:function(t){var e=document.getElementById(t);e?(this.scrollTo(e.offsetTop-e.offsetHeight+10),e.style.transition="background 1s",e.style.background="rgba(0, 0, 0, 0.06)",setTimeout(function(){e.style.background="unset",setTimeout(function(){e.style.transition="background .3s"},1100)},3e3)):B.b.add(B.b.appMsgType.err,this.$t("pop_chat_msg_not_load"))},viewImg:function(t){this.$emit("viewImg",t)},formatTime:function(t,e){return s("1rUu").asString(e,t)},mainKeyUp:function(t){t.shiftKey||13!==t.keyCode?8===t.keyCode?this.selectSQ():this.msgCache=this.msg:(this.msg=this.msgCache,this.sendMsg())},selectSQ:function(){var t=this,e=document.getElementById("main-input");if(e.selectionStart===e.selectionEnd){var s=-1;"number"==typeof e.selectionStart&&(s=e.selectionStart);var i=c.getSQList(this.msg.substring(0,s));if(null!==i){var a=this.msg.substring(0,s).lastIndexOf(i[i.length-1]);-1!==a&&a+i[i.length-1].length===this.msg.substring(0,s).length&&this.$nextTick(function(){e.selectionStart=a,e.selectionEnd=t.msg.substring(0,s).length})}}},selectSQIn:function(){var t=this,e=document.getElementById("main-input");if(e.selectionStart===e.selectionEnd){var s=-1;"number"==typeof e.selectionStart&&(s=e.selectionStart);var i=c.getSQList(this.msg);null!=i&&i.forEach(function(i){var a=t.msg.indexOf(i),n=a+i.length;-1!==a&&s>a&&s<n&&t.$nextTick(function(){e.selectionStart=a,e.selectionEnd=n})})}},showMsgMeun:function(t,e){this.selectedMsg=e,"debug"===b.a.get("log_level")&&console.log(e);var s=document.getElementById("msgMenu"),i=t.currentTarget;e.sender.user_id!==h.b.loginInfo.uin&&"admin"!==h.b.onChat.info.me.role&&"owner"!==h.b.onChat.info.me.role||(this.tags.menuDisplay.revoke=!0);var a=t||window.event,n=a.layerX,o=a.clientY;s.style.marginLeft=n+"px",s.style.marginTop=o+"px";var r=s.clientWidth,c=s.clientHeight,l=i.offsetWidth,d=document.body.clientHeight;n+r>l+27&&(s.style.marginLeft=l+27-r+"px"),o+c>d-10&&(s.style.marginTop=d-c-10+"px"),this.tags.showMsgMenu=!0,this.tags.openedMenuMsg=i,i.style.background="#00000008"},initMenuDisplay:function(){this.tags.menuDisplay={relpy:!0,forward:!0,select:!1,copy:!0,copySelect:!1,revoke:!1}},replyMsg:function(){var t=this.selectedMsg;if(null!==this.selectedMsg){var e=t.message_id;this.addSpecialMsg({msgObj:{type:"reply",id:e},addText:!1,addTop:!0}),this.tags.isReply=!0,document.getElementById("main-input").focus(),this.closeMsgMenu()}},cancelReply:function(){this.sendCache=this.sendCache.filter(function(t){return"reply"!==t.type}),this.tags.isReply=!1},copyMsg:function(){var t=this,e=this.selectedMsg;null!==this.selectedMsg&&this.$copyText(e.raw_message).then(function(e){B.b.add(B.b.appMsgType.info,t.$t("pop_chat_msg_menu_copy_success"),!0),t.closeMsgMenu()},function(e){B.a.error("复制消息失败："+e),B.b.add(B.b.appMsgType.err,t.$t("pop_chat_msg_menu_copy_err"),!0)})},revokeMsg:function(){var t=this.selectedMsg;if(null!==this.selectedMsg){var e=t.message_id;p.a.send("delete_msg",{message_id:e}),this.closeMsgMenu()}},getPopPost:function(){return"margin-left:"+(void 0===this.mumberInfo.x?"0":this.mumberInfo.x)+"px;margin-top:"+(void 0===this.mumberInfo.y?"0":this.mumberInfo.y)+"px;"},hiddenUserInfo:function(){this.$emit("hiddenUserInfo",null)},closeMsgMenu:function(){this.tags.showMsgMenu=!1,this.tags.openedMenuMsg.style.background="unset",this.initMenuDisplay()},closeMergeMsg:function(){this.$emit("cleanMerge",null)},openChatInfoPan:function(){if(this.tags.openChatInfo=!this.tags.openChatInfo,this.tags.openChatInfo){if("group"===this.chat.type&&this.chat.info.group.gc!==this.chat.id){var t="https://qinfo.clt.qq.com/cgi-bin/qun_info/get_group_info_all?gc="+this.chat.id+"&bkn="+h.b.loginInfo.bkn;p.a.send("http_proxy",{url:t},"getMoreGroupInfo")}else if("user"===this.chat.type&&this.chat.info.user.uin!==this.chat.id){var e="bnum=15&pagesize=15&id=0&sid=0&page=0&pageindex=0&ext=&guagua=1&gnum=12&guaguan=2&type=2&ver=4903&longitude=116.405285&latitude=39.904989&lbs_addr_country=%E4%B8%AD%E5%9B%BD&lbs_addr_province=%E5%8C%97%E4%BA%AC&lbs_addr_city=%E5%8C%97%E4%BA%AC%E5%B8%82&keyword="+this.chat.id+"&nf=0&of=0&ldw="+h.b.loginInfo.bkn;p.a.send("http_proxy",{url:"https://find.qq.com/proxy/domain/cgi.find.qq.com/qqfind/find_v11?backver=2",method:"post",data:e},"getMoreUserInfo")}if("group"===this.chat.type&&(0===a()(this.chat.info.group_members).length||this.chat.info.group_members.length<=0||this.chat.info.group_members[0].group_id!==this.chat.id)&&p.a.send("get_group_member_list",{group_id:this.chat.id},"getGroupMemberList"),"group"===this.chat.type){var s="https://web.qun.qq.com/cgi-bin/announce/get_t_list?bkn="+h.b.loginInfo.bkn+"&qid="+this.chat.id+"&ft=23&s=-1&n=20";p.a.send("http_proxy",{url:s},"getGroupNotices")}if("group"===this.chat.type&&0===a()(this.chat.info.group_files).length){var i="https://pan.qun.qq.com/cgi-bin/group_file/get_file_list?gc="+this.chat.id+"&bkn="+h.b.loginInfo.bkn+"&start_index=0&cnt=30&filter_code=0&folder_id=%2F&show_onlinedoc_folder=0";p.a.send("http_proxy",{url:i},"getGroupFiles")}}},fileLoad:function(t){var e=t.srcElement;if(e.scrollTop+e.clientHeight>=e.scrollHeight&&0!==this.chat.info.group_files.next_index&&this.chat.info.group_files.next_index!==this.chat.info.group_files.total_cnt){var s="https://pan.qun.qq.com/cgi-bin/group_file/get_file_list?gc="+this.chat.id+"&bkn="+h.b.loginInfo.bkn+"&start_index="+this.chat.info.group_files.next_index+"&cnt=30&filter_code=0&folder_id=%2F&show_onlinedoc_folder=0";p.a.send("http_proxy",{url:s},"getMoreGroupFiles")}},deleteImg:function(t){console.log(t),console.log(n.default.cacheImg),n.default.cacheImg.splice(t,1),this.$forceUpdate(),console.log(n.default.cacheImg)},addSpecialMsg:function(t){if(void 0!==t){var e=this.sendCache.length;return this.sendCache.push(t.msgObj),!0===t.addText&&(!0===t.addTop?this.msg="[SQ:"+e+"]"+this.msg:this.msg+="[SQ:"+e+"]"),e}return-1},addImg:function(t){var e=this;if(t.clipboardData&&t.clipboardData.items)for(var s=0,i=t.clipboardData.items.length;s<i;s++){var a=t.clipboardData.items[s];if("file"===a.kind){var o=a.getAsFile();if(o.type.indexOf("image/")>=0&&0!==o.size){if(B.b.add(B.b.appMsgType.info,this.$t("pop_chat_image_processing")),o.size<3145728){var r=new FileReader;r.readAsDataURL(o),r.onloadend=function(){var t=r.result;if(!0===b.a.get("close_chat_pic_pan")){var s={addText:!0,msgObj:{type:"image",file:"base64://"+t.substring(t.indexOf("base64,")+7,t.length)}};e.addSpecialMsg(s)}else void 0===n.default.cacheImg&&(n.default.cacheImg=[]),n.default.cacheImg.push(t)},B.b.add(B.b.appMsgType.info,this.$t("pop_chat_image_ok"))}else B.b.add(B.b.appMsgType.info,this.$t("pop_chat_image_toooo_big"));t.preventDefault()}}}},sendMsg:function(){var t=c.parseMsg(this.msg,this.sendCache);if(null!==t&&t.length>0)switch(this.chat.type){case"group":p.a.send("send_group_msg",{group_id:this.chat.id,message:t},"sendMsgBack");break;case"user":p.a.send("send_private_msg",{user_id:this.chat.id,message:t},"sendMsgBack")}this.msg="",this.sendCache=[],this.scrollBottom(),this.cancelReply()}},watch:{list:function(){var t=this;this.tags.showBottomButton&&!this.tags.nowGetHistroy&&this.listSize>0&&(this.NewMsgNum+=this.list.length-this.listSize),this.list.length>100&&!this.tags.nowGetHistroy&&this.list.shift(),this.listSize=this.list.length;var e=document.getElementById("msgPan"),s=e.scrollHeight,i=e.scrollTop;this.$nextTick(function(){if(t.tags.nowGetHistroy){var e=document.getElementById("msgPan");t.scrollTo(e.scrollHeight-s,!1),t.tags.nowGetHistroy=!1}else t.tags.nowGetHistroy=!1;var a=document.getElementById("msgPan");i===s-a.clientHeight&&t.scrollBottom(!0);var o=[];t.list.forEach(function(t){void 0!==t.message&&t.message.forEach(function(e){if("image"===e.type&&!e.asface){var s=[Object(m.g)(t.message_id).seqid,t.message_id,e.url];o.push(s)}})}),t.imgView.srcList=o,void 0!==h.b.onChat.jump&&(B.a.debug("进入跳转至消息："+h.b.onChat.jump),t.scrollToMsg("chat-"+Object(m.g)(h.b.onChat.jump).seqid),n.default.set(h.b.onChat,"jump",void 0))})},chat:function(){this.tags=this.$options.data().tags,this.msgMenus=this.$options.data().msgMenus,this.sendCache=[],this.initMenuDisplay()}},mounted:function(){this.initMenuDisplay()}},T={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"chat-pan",attrs:{id:"chat-pan"}},[s("div",[s("img",{attrs:{src:t.chat.avatar}}),t._v(" "),s("div",[s("p",[t._v(t._s(t.chat.name))]),t._v(" "),s("span",[t._v("\n        "+t._s(t.list[t.list.length-1]?t.$t("chat_last_msg",{time:Intl.DateTimeFormat(t.trueLang,{hour:"numeric",minute:"numeric",second:"numeric"}).format(new Date(1e3*t.list[t.list.length-1].time))}):t.$t("chat_no_msg"))+"\n        ")])]),t._v(" "),s("div"),t._v(" "),s("div",[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 512"},on:{click:t.openChatInfoPan}},[s("path",{attrs:{d:"M64 360c30.9 0 56 25.1 56 56s-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56zm0-160c30.9 0 56 25.1 56 56s-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56zM120 96c0 30.9-25.1 56-56 56S8 126.9 8 96S33.1 40 64 40s56 25.1 56 56z"}})])])]),t._v(" "),s("div",{staticStyle:{"scroll-behavior":"smooth"},attrs:{id:"msgPan"},on:{scroll:t.chatScroll}},[t.runtimeData.tags.canLoadHistory?t._e():s("div",{staticClass:"note top"},[s("span",{staticClass:"note-nomsg"},[t._v(t._s(t.$t("chat_no_more_msg")))])]),t._v(" "),t._l(t.list,function(e,i){return["message"===e.post_type?s(t.runtimeData.pageView.msgView,{key:e.message_id,tag:"component",attrs:{data:e},on:{scrollToMsg:t.scrollToMsg,viewImg:t.viewImg},nativeOn:{contextmenu:function(s){return s.preventDefault(),t.showMsgMeun(s,e)}}}):t._e(),t._v(" "),"notice"===e.post_type?s("NoticeBody",{key:"notice-"+i,attrs:{data:e}}):t._e()]})],2),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.tags.showBottomButton,expression:"tags.showBottomButton"}],on:{click:function(e){return t.scrollBottom(!0)}}},[s("div",{staticClass:"ss-card"},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[s("path",{attrs:{d:"M256 32C114.6 32 .0272 125.1 .0272 240c0 49.63 21.35 94.98 56.97 130.7c-12.5 50.37-54.27 95.27-54.77 95.77c-2.25 2.25-2.875 5.734-1.5 8.734C1.979 478.2 4.75 480 8 480c66.25 0 115.1-31.76 140.6-51.39C181.2 440.9 217.6 448 256 448c141.4 0 255.1-93.13 255.1-208S397.4 32 256 32z"}})]),t._v(" "),t.NewMsgNum>0?s("span",[t._v(t._s(t.NewMsgNum))]):t._e()])]),t._v(" "),s("div",[s("div",[s("div",[s("FacePan",{directives:[{name:"show",rawName:"v-show",value:t.details[1].open,expression:"details[1].open"}],on:{addSpecialMsg:t.addSpecialMsg}})],1),t._v(" "),s("div",{class:t.tags.isReply?"replay-tag show":"replay-tag"},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[s("path",{attrs:{d:"M8.31 189.9l176-151.1c15.41-13.3 39.69-2.509 39.69 18.16v80.05C384.6 137.9 512 170.1 512 322.3c0 61.44-39.59 122.3-83.34 154.1c-13.66 9.938-33.09-2.531-28.06-18.62c45.34-145-21.5-183.5-176.6-185.8v87.92c0 20.7-24.31 31.45-39.69 18.16l-176-151.1C-2.753 216.6-2.784 199.4 8.31 189.9z"}})]),t._v(" "),s("span",[t._v(t._s(null===t.selectedMsg?"":t.selectedMsg.sender.nickname+": "+t.selectedMsg.raw_message))]),t._v(" "),s("div",{on:{click:t.cancelReply}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"}},[s("path",{attrs:{d:"M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"}})])])]),t._v(" "),s("div",{class:t.tags.showMoreDetail?"more-detail show":"more-detail"},[s("div",{attrs:{title:this.$t("chat_fun_menu_face")},on:{click:function(e){t.details[1].open=!t.details[1].open,t.tags.showMoreDetail=!1}}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[s("path",{attrs:{d:"M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM256 432C332.1 432 396.2 382 415.2 314.1C419.1 300.4 407.8 288 393.6 288H118.4C104.2 288 92.92 300.4 96.76 314.1C115.8 382 179.9 432 256 432V432zM176.4 160C158.7 160 144.4 174.3 144.4 192C144.4 209.7 158.7 224 176.4 224C194 224 208.4 209.7 208.4 192C208.4 174.3 194 160 176.4 160zM336.4 224C354 224 368.4 209.7 368.4 192C368.4 174.3 354 160 336.4 160C318.7 160 304.4 174.3 304.4 192C304.4 209.7 318.7 224 336.4 224z"}})])])])]),t._v(" "),s("div",[s("div",{on:{click:function(e){t.tags.showMoreDetail=!t.tags.showMoreDetail}}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[s("path",{attrs:{d:"M432 256c0 17.69-14.33 32.01-32 32.01H256v144c0 17.69-14.33 31.99-32 31.99s-32-14.3-32-31.99v-144H48c-17.67 0-32-14.32-32-32.01s14.33-31.99 32-31.99H192v-144c0-17.69 14.33-32.01 32-32.01s32 14.32 32 32.01v144h144C417.7 224 432 238.3 432 256z"}})])]),t._v(" "),s("div",[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],attrs:{id:"main-input",type:"text"},domProps:{value:t.msg},on:{paste:t.addImg,keyup:t.mainKeyUp,click:function(e){t.selectSQ(),t.selectSQIn()},input:function(e){e.target.composing||(t.msg=e.target.value)}}}),t._v(" "),s("div",{on:{click:t.sendMsg}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 512"}},[s("path",{attrs:{d:"M64 448c-8.188 0-16.38-3.125-22.62-9.375c-12.5-12.5-12.5-32.75 0-45.25L178.8 256L41.38 118.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l160 160c12.5 12.5 12.5 32.75 0 45.25l-160 160C80.38 444.9 72.19 448 64 448z"}})])])])]),t._v(" "),s("div")]),t._v(" "),s("div",{class:t.mergeList.length>0?"merge-pan show":"merge-pan"},[s("div",{on:{click:t.closeMergeMsg}}),t._v(" "),s("div",{staticClass:"ss-card"},[s("div",[s("svg",{staticStyle:{"margin-top":"5px"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[s("path",{attrs:{d:"M511.1 63.1v287.1c0 35.25-28.75 63.1-64 63.1h-144l-124.9 93.68c-7.875 5.75-19.12 .0497-19.12-9.7v-83.98h-96c-35.25 0-64-28.75-64-63.1V63.1c0-35.25 28.75-63.1 64-63.1h384C483.2 0 511.1 28.75 511.1 63.1z"}})]),t._v(" "),s("span",[t._v(t._s(t.$t("chat_merge_msg")))]),t._v(" "),s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},on:{click:t.closeMergeMsg}},[s("path",{attrs:{d:"M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"}})])]),t._v(" "),s("div",t._l(t.mergeList,function(t,e){return s("MsgBody",{key:"merge"+e,attrs:{data:t,isMerge:!0}})}),1)])]),t._v(" "),s("div",{staticClass:"mumber-info"},[Object.keys(t.mumberInfo).length>0&&void 0===t.mumberInfo.error?s("div",{staticClass:"ss-card",style:t.getPopPost()},[s("img",{attrs:{src:"https://q1.qlogo.cn/g?b=qq&s=0&nk="+t.mumberInfo.user_id}}),t._v(" "),s("div",[s("span",{attrs:{name:"id"}},[t._v(t._s(t.mumberInfo.user_id))]),t._v(" "),s("div",[s("a",[t._v(t._s(""==t.mumberInfo.card?t.mumberInfo.nickname:t.mumberInfo.card))]),t._v(" "),s("div",["member"!==t.mumberInfo.role?s("span",[t._v("\n              "+t._s(t.$t("chat_member_type_"+t.mumberInfo.role))+"\n            ")]):t._e(),t._v(" "),s("span",[t._v("Lv "+t._s(t.mumberInfo.level))])])]),t._v(" "),s("span",[t._v(" "+t._s(t.$t("chat_join_time",{time:Intl.DateTimeFormat(t.trueLang,{year:"numeric",month:"short",day:"numeric"}).format(new Date(1e3*t.mumberInfo.join_time))}))+" ")])])]):t._e()]),t._v(" "),s("div",{staticClass:"msg-menu"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.tags.showMsgMenu,expression:"tags.showMsgMenu"}],staticClass:"msg-menu-bg",on:{click:t.closeMsgMenu}}),t._v(" "),s("div",{class:t.tags.showMsgMenu?"ss-card menu show":"ss-card menu",attrs:{id:"msgMenu"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.tags.menuDisplay.relpy,expression:"tags.menuDisplay.relpy"}],on:{click:t.replyMsg}},[s("div",[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[s("path",{attrs:{d:"M511.1 63.1v287.1c0 35.25-28.75 63.1-64 63.1h-144l-124.9 93.68c-7.875 5.75-19.12 .0497-19.12-9.7v-83.98h-96c-35.25 0-64-28.75-64-63.1V63.1c0-35.25 28.75-63.1 64-63.1h384C483.2 0 511.1 28.75 511.1 63.1z"}})])]),t._v(" "),s("a",[t._v(t._s(t.$t("chat_msg_menu_reply")))])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.tags.menuDisplay.copy,expression:"tags.menuDisplay.copy"}],on:{click:t.copyMsg}},[s("div",[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"}},[s("path",{attrs:{d:"M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"}})])]),t._v(" "),s("a",[t._v(t._s(t.$t("chat_msg_menu_copy")))])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.tags.menuDisplay.revoke,expression:"tags.menuDisplay.revoke"}],on:{click:t.revokeMsg}},[s("div",[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"}},[s("path",{attrs:{d:"M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"}})])]),t._v(" "),s("a",[t._v(t._s(t.$t("chat_msg_menu_withdraw")))])])])]),t._v(" "),s("InfoBody",{attrs:{chat:t.chat,tags:t.tags},on:{close:t.openChatInfoPan,loadFile:t.fileLoad}}),t._v(" "),void 0!=t.Vue.cacheImg&&t.Vue.cacheImg.length>0?s("div",{staticClass:"img-sender"},[s("div",{staticClass:"card ss-card"},[s("div",{staticClass:"hander"},[s("span",[t._v(t._s(t.$t("chat_send_pic_title")))]),t._v(" "),s("button",{staticClass:"ss-button",on:{click:function(e){t.sendMsg(),t.Vue.cacheImg=void 0}}},[t._v(t._s(t.$t("chat_send_pic_send")))])]),t._v(" "),s("div",{staticClass:"imgs"},t._l(t.Vue.cacheImg,function(e,i){return s("div",{key:"sendImg-"+e.substring(e.length-5,e.length)},[s("div",{on:{click:function(e){return t.deleteImg(i)}}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"}},[s("path",{attrs:{d:"M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"}})])]),t._v(" "),s("img",{attrs:{src:e}})])}),0),t._v(" "),s("div",{staticClass:"sender"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],attrs:{type:"text"},domProps:{value:t.msg},on:{paste:t.addImg,input:function(e){e.target.composing||(t.msg=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"bg",on:{click:function(e){t.Vue.cacheImg=void 0}}})]):t._e()],1)},staticRenderFns:[]},$=s("VU/8")(z,T,!1,null,null,null);e.default=$.exports}});
//# sourceMappingURL=1.a15d9d985009d816ff7d.js.map